{"version":3,"file":"main-qjQZkmX2.js","sources":["../../src/main.js"],"sourcesContent":["/**\n * GAMMA-COM.FIT - Core Engine 2026\n * Платформа: Инновации на пальцах\n */\n\ndocument.addEventListener('DOMContentLoaded', () => {\n    \n    // 1. ИНИЦИАЛИЗАЦИЯ ИКОНОК (Lucide)\n    if (typeof lucide !== 'undefined') {\n        lucide.createIcons();\n    }\n\n    // 2. МОБИЛЬНОЕ МЕНЮ (Full Overlay)\n    const initMobileMenu = () => {\n        const burger = document.querySelector('.burger');\n        const menu = document.getElementById('mobile-menu');\n        const closeBtn = document.getElementById('menu-close');\n        const navLinks = document.querySelectorAll('.mobile-menu__nav a');\n\n        const toggleMenu = (state) => {\n            menu.classList.toggle('active', state);\n            document.body.style.overflow = state ? 'hidden' : '';\n        };\n\n        if (burger && menu) {\n            burger.addEventListener('click', () => toggleMenu(true));\n            closeBtn?.addEventListener('click', () => toggleMenu(false));\n            \n            navLinks.forEach(link => {\n                link.addEventListener('click', () => toggleMenu(false));\n            });\n        }\n    };\n\n    // 3. ФИКС РАЗРЫВА СЛОВ И HERO АНИМАЦИЯ (GSAP + SplitType)\n    const initHeroAnimation = () => {\n        const title = document.querySelector('#hero-title');\n        if (!title || typeof gsap === 'undefined' || typeof SplitType === 'undefined') return;\n\n        /**\n         * РЕШЕНИЕ ПРОБЛЕМЫ РАЗРЫВА СЛОВ:\n         * Мы разбиваем текст на words И chars. \n         * В CSS .word должен иметь white-space: nowrap.\n         */\n        const textInstance = new SplitType(title, { \n            types: 'words, chars',\n            tagName: 'span'\n        });\n\n        // Анимация появления букв\n        gsap.to(textInstance.chars, {\n            y: 0,\n            opacity: 1,\n            stagger: 0.02,\n            duration: 1.2,\n            ease: 'power4.out',\n            delay: 0.3\n        });\n\n        // Анимация остальных элементов Hero\n        gsap.from('.hero__badge, .hero__subtitle, .hero__actions, .hero__visual', {\n            y: 40,\n            opacity: 0,\n            duration: 1,\n            stagger: 0.15,\n            ease: 'power3.out',\n            delay: 0.8\n        });\n\n        // Параллакс свечений (Интерактив)\n        document.addEventListener('mousemove', (e) => {\n            const moveX = (e.clientX / window.innerWidth - 0.5) * 30;\n            const moveY = (e.clientY / window.innerHeight - 0.5) * 30;\n            \n            gsap.to('.hero__glow--1', { x: moveX, y: moveY, duration: 1.5 });\n            gsap.to('.hero__glow--2', { x: -moveX, y: -moveY, duration: 1.5 });\n        });\n    };\n\n    // 4. HEADER: СКРОЛЛ ЭФФЕКТЫ\n    const initHeaderScroll = () => {\n        const header = document.querySelector('.header');\n        window.addEventListener('scroll', () => {\n            if (window.scrollY > 50) {\n                header.classList.add('header--scrolled');\n                header.style.padding = '12px 0';\n                header.style.backgroundColor = 'rgba(10, 10, 12, 0.95)';\n            } else {\n                header.classList.remove('header--scrolled');\n                header.style.padding = '20px 0';\n                header.style.backgroundColor = 'transparent';\n            }\n        });\n    };\n\n    // 5. REVEAL: ПОЯВЛЕНИЕ ПРИ СКРОЛЛЕ (Intersection Observer)\n    const initRevealOnScroll = () => {\n        const observerOptions = { threshold: 0.12 };\n\n        const observer = new IntersectionObserver((entries) => {\n            entries.forEach(entry => {\n                if (entry.isIntersecting) {\n                    entry.target.classList.add('active');\n                    // Перестаем следить после активации\n                    observer.unobserve(entry.target);\n                }\n            });\n        }, observerOptions);\n\n        document.querySelectorAll('.reveal').forEach(el => observer.observe(el));\n    };\n\n    // 6. TECH EXPLORER (Интерактивные карточки инноваций)\n    const initTechCards = () => {\n        const cards = document.querySelectorAll('.tech__card');\n        cards.forEach(card => {\n            card.addEventListener('click', () => {\n                const isActive = card.classList.contains('active');\n                cards.forEach(c => c.classList.remove('active'));\n                if (!isActive) card.classList.add('active');\n            });\n        });\n    };\n\n    // 7. КОНТАКТНАЯ ФОРМА: ВАЛИДАЦИЯ И CAPTCHA\n    const initContactForm = () => {\n        const form = document.getElementById('main-form');\n        if (!form) return;\n\n        const phoneInput = document.getElementById('user_phone');\n        const captchaLabel = document.getElementById('captcha-label');\n        const captchaInput = document.getElementById('captcha-input');\n        const successOverlay = document.getElementById('form-success');\n\n        // Генерация математического примера\n        const n1 = Math.floor(Math.random() * 12) + 1;\n        const n2 = Math.floor(Math.random() * 8) + 1;\n        const sum = n1 + n2;\n        if (captchaLabel) captchaLabel.textContent = `Решите: ${n1} + ${n2} = ?`;\n\n        // Валидация телефона (удаление не-цифр)\n        phoneInput.addEventListener('input', (e) => {\n            e.target.value = e.target.value.replace(/[^\\d+]/g, '');\n        });\n\n        // Отправка формы (AJAX имитация)\n        form.addEventListener('submit', (e) => {\n            e.preventDefault();\n\n            // Проверка капчи\n            if (parseInt(captchaInput.value) !== sum) {\n                captchaInput.style.borderColor = '#ff4b4b';\n                alert('Ошибка в расчетах капчи. Попробуйте еще раз.');\n                return;\n            }\n\n            const btn = form.querySelector('button[type=\"submit\"]');\n            btn.disabled = true;\n            btn.textContent = 'Обработка...';\n\n            // Имитация задержки сервера\n            setTimeout(() => {\n                successOverlay.classList.add('active');\n                if (typeof lucide !== 'undefined') lucide.createIcons();\n                form.reset();\n            }, 1800);\n        });\n    };\n\n    // 8. COOKIE POPUP (Local Storage)\n    const initCookieConsent = () => {\n        const cookieBox = document.getElementById('cookie-popup');\n        const acceptBtn = document.getElementById('cookie-accept');\n\n        if (!cookieBox || !acceptBtn) return;\n\n        if (!localStorage.getItem('gamma_cookies_accepted')) {\n            setTimeout(() => {\n                cookieBox.classList.add('active');\n            }, 3000);\n        }\n\n        acceptBtn.addEventListener('click', () => {\n            localStorage.setItem('gamma_cookies_accepted', 'true');\n            cookieBox.classList.remove('active');\n        });\n    };\n\n    // ЗАПУСК ВСЕХ СИСТЕМ\n    initMobileMenu();\n    initHeaderScroll();\n    initHeroAnimation();\n    initRevealOnScroll();\n    initTechCards();\n    initContactForm();\n    initCookieConsent();\n});"],"names":["initMobileMenu","burger","menu","closeBtn","navLinks","toggleMenu","state","link","initHeroAnimation","title","textInstance","e","moveX","moveY","initHeaderScroll","header","initRevealOnScroll","observerOptions","observer","entries","entry","el","initTechCards","cards","card","isActive","c","initContactForm","form","phoneInput","captchaLabel","captchaInput","successOverlay","n1","n2","sum","btn","initCookieConsent","cookieBox","acceptBtn"],"mappings":"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"}